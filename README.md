# –ö–æ–Ω–≤–µ–π–µ—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ü–µ–Ω–∫–∏ –º–æ–¥–µ–ª–µ–π CAD-Recode –∏ Cadrille

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ–ª–Ω—ã–π –∫–æ–Ω–≤–µ–π–µ—Ä –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ü–µ–Ω–∫–∏ –º–æ–¥–µ–ª–µ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ CAD-–∫–æ–¥–∞: **CAD-Recode** –∏ **Cadrille**. –†–µ—à–µ–Ω–∏–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–ø–æ—Å—Ç–∞–≤–∏–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –º–µ—Ç—Ä–∏–∫ –¥–ª—è –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–µ–π –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –¥–∞—Ç–∞—Å–µ—Ç–∞—Ö.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîÑ **–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: –æ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–æ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- üìä **–°–æ–ø–æ—Å—Ç–∞–≤–∏–º–∞—è –æ—Ü–µ–Ω–∫–∞**: –µ–¥–∏–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –¥–ª—è –æ–±–µ–∏—Ö –º–æ–¥–µ–ª–µ–π
- üéØ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏**: Chamfer Distance, IoU, Invalidity Ratio
- üìà **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: –≥—Ä–∞—Ñ–∏–∫–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ —Ä–∞–¥–∞—Ä–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã
- ‚ö° **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ GPU, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- üõ°Ô∏è **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, —Ç–∞–π–º–∞—É—Ç—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
cad_unified/
‚îú‚îÄ‚îÄ test.py                    # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ Cadrille
‚îú‚îÄ‚îÄ test_cad_recode.py         # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ CAD-Recode
‚îú‚îÄ‚îÄ evaluate.py                # –û—Ü–µ–Ω–∫–∞ –º–µ—Ç—Ä–∏–∫ –¥–ª—è –æ–±–µ–∏—Ö –º–æ–¥–µ–ª–µ–π
‚îú‚îÄ‚îÄ compare_results.py         # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îú‚îÄ‚îÄ pipeline.py                # –ü–æ–ª–Ω—ã–π –∫–æ–Ω–≤–µ–π–µ—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ü–µ–Ω–∫–∏
‚îú‚îÄ‚îÄ dataset.py                 # –ö–ª–∞—Å—Å—ã –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ cadrille.py                # –ú–æ–¥–µ–ª—å Cadrille –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ Dockerfile                 # Docker-–æ–±—Ä–∞–∑ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ .cursorrules              # –ü—Ä–∞–≤–∏–ª–∞ —Å—Ç–∏–ª—è –∫–æ–¥–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ .gitignore                # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è Git
‚îî‚îÄ‚îÄ README.md                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏

- **`test.py`**: –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ –º–æ–¥–µ–ª–∏ Cadrille –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞—Ö. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã —Å —Ç–µ–∫—Å—Ç–æ–º, —Ç–æ—á–µ—á–Ω—ã–º–∏ –æ–±–ª–∞–∫–∞–º–∏ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏.
- **`test_cad_recode.py`**: –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ –º–æ–¥–µ–ª–∏ CAD-Recode. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç CadQuery –∫–æ–¥—ã –∏–∑ —Ç–æ—á–µ—á–Ω—ã—Ö –æ–±–ª–∞–∫–æ–≤ 3D –º–æ–¥–µ–ª–µ–π.
- **`evaluate.py`**: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞ (Chamfer Distance, IoU) –¥–ª—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É.
- **`compare_results.py`**: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ—Ü–µ–Ω–∫–∏ –¥–≤—É—Ö –º–æ–¥–µ–ª–µ–π —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ—Ç—á–µ—Ç–æ–≤.
- **`pipeline.py`**: –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–µ–∏—Ö –º–æ–¥–µ–ª–µ–π ‚Üí –æ—Ü–µ–Ω–∫–∞ ‚Üí —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
- **`dataset.py`**: –ö–ª–∞—Å—Å—ã –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö (CadRecodeDataset, Text2CADDataset) –∏ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å mesh.
- **`cadrille.py`**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ Cadrille, —Ñ—É–Ω–∫—Ü–∏–∏ –∫–æ–ª–ª–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã—Ö –≤—Ö–æ–¥–æ–≤.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–∏—Å—Ç–µ–º–µ

### –ê–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **GPU**: NVIDIA GPU —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CUDA (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è RTX 3090 Ti –∏–ª–∏ –ª—É—á—à–µ)
- **–ü–∞–º—è—Ç—å**: –ú–∏–Ω–∏–º—É–º 16 GB RAM, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 32 GB+
- **–î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ**: –ú–∏–Ω–∏–º—É–º 50 GB –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–¥–µ–ª–µ–π

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ

- **Python**: 3.11+
- **CUDA**: 12.4+ (–¥–ª—è GPU)
- **Docker**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≥–æ—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–ª—é—á–µ–≤—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

- `torch` >= 2.5.1 - PyTorch –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—è–º–∏
- `transformers` >= 4.50.3 - Hugging Face Transformers –¥–ª—è –º–æ–¥–µ–ª–µ–π
- `trimesh` >= 4.5.3 - –†–∞–±–æ—Ç–∞ —Å 3D –º–æ–¥–µ–ª—è–º–∏
- `open3d` - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ 3D –¥–∞–Ω–Ω—ã—Ö
- `pytorch3d` - 3D –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è PyTorch
- `cadquery` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ CadQuery –∫–æ–¥–∞
- `matplotlib` >= 3.10.0 - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `numpy` >= 2.2.0 - –ß–∏—Å–ª–µ–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- `scipy` >= 1.14.1 - –ù–∞—É—á–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —É–∫–∞–∑–∞–Ω –≤ `Dockerfile`.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –°–æ–±–µ—Ä–∏—Ç–µ Docker-–æ–±—Ä–∞–∑:
```bash
docker build -t cad-unified .
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```bash
docker run -it --gpus all \
  -v /path/to/data:/workspace/data \
  -v /path/to/models:/workspace/models \
  -v /path/to/results:/workspace/results \
  -p 8888:8888 \
  cad-unified
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ Dockerfile –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ `requirements.txt`:
```bash
pip install torch transformers trimesh open3d pytorch3d cadquery matplotlib numpy scipy
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install flash-attn --no-build-isolation
pip install git+https://github.com/facebookresearch/pytorch3d@06a76ef8ddd00b6c889768dfc990ae8cb07c6f2f
pip install git+https://github.com/CadQuery/cadquery.git@e99a15df3cf6a88b69101c405326305b5db8ed94
pip install cadquery-ocp==7.7.2
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏ GPU –¥–æ—Å—Ç—É–ø–µ–Ω:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ GPU
nvidia-smi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
python -c "import torch; print(f'PyTorch –≤–µ—Ä—Å–∏—è: {torch.__version__}'); print(f'CUDA –¥–æ—Å—Ç—É–ø–Ω–∞: {torch.cuda.is_available()}')"
```

### 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ:

```
/workspace/data/
‚îú‚îÄ‚îÄ deepcad_test_mesh/
‚îÇ   ‚îú‚îÄ‚îÄ 00000001.stl
‚îÇ   ‚îú‚îÄ‚îÄ 00000002.stl
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ fusion360_test_mesh/
    ‚îú‚îÄ‚îÄ 00000001.stl
    ‚îî‚îÄ‚îÄ ...
```

### 3. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–æ–¥–µ–ª–µ–π

–ü–æ–º–µ—Å—Ç–∏—Ç–µ –º–æ–¥–µ–ª–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

```
/workspace/models/
‚îú‚îÄ‚îÄ cad-recode-v1.5/          # –ú–æ–¥–µ–ª—å CAD-Recode
‚îÇ   ‚îú‚îÄ‚îÄ config.json
‚îÇ   ‚îú‚îÄ‚îÄ model.safetensors
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ cadrille-rl/              # –ú–æ–¥–µ–ª—å Cadrille (Hugging Face)
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω–≤–µ–π–µ—Ä–∞

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `pipeline.py`, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —ç—Ç–∞–ø—ã:

#### –î–ª—è DeepCAD –¥–∞—Ç–∞—Å–µ—Ç–∞

```bash
python pipeline.py \
  --data-path /workspace/data \
  --models-dir /workspace/models \
  --results-dir /workspace/results \
  --dataset deepcad_test_mesh \
  --n-samples 1 \
  --max-samples 50 \
  --device cuda
```

#### –î–ª—è Fusion360 –¥–∞—Ç–∞—Å–µ—Ç–∞

```bash
python pipeline.py \
  --data-path /workspace/data \
  --models-dir /workspace/models \
  --results-dir /workspace/results \
  --dataset fusion360_test_mesh \
  --n-samples 1 \
  --max-samples 50 \
  --device cuda
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã `pipeline.py`:**
- `--data-path`: –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏
- `--models-dir`: –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –º–æ–¥–µ–ª—è–º–∏
- `--results-dir`: –ü—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `--dataset`: –ù–∞–∑–≤–∞–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ (`deepcad_test_mesh` –∏–ª–∏ `fusion360_test_mesh`)
- `--n-samples`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –Ω–∞ –æ–±—ä–µ–∫—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)
- `--max-samples`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 50)
- `--device`: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π (`cuda` –∏–ª–∏ `cpu`)

### –ó–∞–ø—É—Å–∫ –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º —ç—Ç–∞–ø–∞–º

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã:

#### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CAD-Recode

```bash
python test_cad_recode.py \
  --data-path /workspace/data \
  --split deepcad_test_mesh \
  --model-path /workspace/models/cad-recode-v1.5 \
  --output-dir /workspace/results/cad_recode/deepcad_test_mesh \
  --device cuda \
  --n-samples 1 \
  --max-samples 50
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã `test_cad_recode.py`:**
- `--data-path`: –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏
- `--split`: –ù–∞–∑–≤–∞–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `--model-path`: –ü—É—Ç—å –∫ –º–æ–¥–µ–ª–∏ CAD-Recode
- `--output-dir`: –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `--device`: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π (`cuda`/`cpu`)
- `--n-samples`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –Ω–∞ –æ–±—ä–µ–∫—Ç
- `--max-samples`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤

#### 2. –û—Ü–µ–Ω–∫–∞ CAD-Recode

```bash
python evaluate.py \
  --gt-mesh-path /workspace/data/deepcad_test_mesh \
  --pred-py-path /workspace/results/cad_recode/deepcad_test_mesh \
  --pred-eval-path /workspace/results/cad_recode_eval/deepcad_test_mesh \
  --n-points 8192 \
  --num-workers 20
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã `evaluate.py`:**
- `--gt-mesh-path`: –ü—É—Ç—å –∫ ground truth mesh —Ñ–∞–π–ª–∞–º (STL)
- `--pred-py-path`: –ü—É—Ç—å –∫ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–º CadQuery –∫–æ–¥–∞–º (.py —Ñ–∞–π–ª—ã)
- `--pred-eval-path`: –ü—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ—Ü–µ–Ω–∫–∏
- `--n-points`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫ –¥–ª—è Chamfer Distance (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8192)
- `--num-workers`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 20)
- `--check-models`: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å
- `--debug`: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –≤–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏

#### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Cadrille

```bash
python test.py \
  --data-path /workspace/data \
  --split deepcad_test_mesh \
  --mode pc \
  --checkpoint-path /workspace/models/cadrille-rl \
  --py-path /workspace/results/cadrille/deepcad_test_mesh \
  --device cuda \
  --max-samples 50
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã `test.py`:**
- `--data-path`: –ü—É—Ç—å –∫ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏
- `--split`: –ù–∞–∑–≤–∞–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `--mode`: –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã –º–æ–¥–µ–ª–∏ (`text`, `pc`, `img`)
- `--checkpoint-path`: –ü—É—Ç—å –∫ —á–µ–∫–ø–æ–∏–Ω—Ç—É –º–æ–¥–µ–ª–∏ Cadrille (Hugging Face)
- `--py-path`: –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö CadQuery —Ñ–∞–π–ª–æ–≤
- `--device`: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π (`cuda`/`cpu`)
- `--max-samples`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

#### 4. –û—Ü–µ–Ω–∫–∞ Cadrille

```bash
python evaluate.py \
  --gt-mesh-path /workspace/data/deepcad_test_mesh \
  --pred-py-path /workspace/results/cadrille/deepcad_test_mesh \
  --pred-eval-path /workspace/results/cadrille_eval/deepcad_test_mesh \
  --n-points 8192 \
  --num-workers 20
```

#### 5. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```bash
python compare_results.py \
  --cad-recode-results /workspace/results/cad_recode_eval/deepcad_test_mesh/summary.txt \
  --cadrille-results /workspace/results/cadrille_eval/deepcad_test_mesh/summary.txt \
  --output-dir /workspace/results/comparison/deepcad_test_mesh \
  --dataset deepcad_test_mesh
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã `compare_results.py`:**
- `--cad-recode-results`: –ü—É—Ç—å –∫ `summary.txt` –¥–ª—è CAD-Recode
- `--cadrille-results`: –ü—É—Ç—å –∫ `summary.txt` –¥–ª—è Cadrille
- `--output-dir`: –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- `--dataset`: –ù–∞–∑–≤–∞–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

## –ú–µ—Ç—Ä–∏–∫–∏ –æ—Ü–µ–Ω–∫–∏

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:

### Chamfer Distance (CD)

–ú–µ—Ç—Ä–∏–∫–∞ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ 3D –º–æ–¥–µ–ª–µ–π. –ò–∑–º–µ—Ä—è–µ—Ç —Å—Ä–µ–¥–Ω–µ–µ –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏ –æ–¥–Ω–æ–π –º–æ–¥–µ–ª–∏ –¥–æ –±–ª–∏–∂–∞–π—à–µ–π —Ç–æ—á–∫–∏ –¥—Ä—É–≥–æ–π –º–æ–¥–µ–ª–∏. **–ú–µ–Ω—å—à–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ–∑–Ω–∞—á–∞–µ—Ç –ª—É—á—à–µ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ.**

- **–ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è**: –º–∏–ª–ª–∏–º–µ—Ç—Ä—ã (–º–º)
- **–¢–∏–ø–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**: 0.1 - 10.0 –º–º –¥–ª—è —Ö–æ—Ä–æ—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **–í—ã—á–∏—Å–ª–µ–Ω–∏–µ**: –î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ (–æ—Ç GT –∫ Pred –∏ –æ—Ç Pred –∫ GT)

### Intersection over Union (IoU)

–ú–µ—Ç—Ä–∏–∫–∞ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è –º–µ–∂–¥—É –¥–≤—É–º—è 3D –º–æ–¥–µ–ª—è–º–∏. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –æ–±—ä–µ–º–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –∫ –æ–±—ä–µ–º—É –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π. **–ó–Ω–∞—á–µ–Ω–∏—è –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [0, 1], –≥–¥–µ 1 –æ–∑–Ω–∞—á–∞–µ—Ç –ø–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ.**

- **–¢–∏–ø–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**: 0.5 - 0.9 –¥–ª—è —Ö–æ—Ä–æ—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **–ú–µ—Ç–æ–¥—ã –≤—ã—á–∏—Å–ª–µ–Ω–∏—è**:
  - **Point-based**: –ü–ª–æ—Ç–Ω–æ–µ —Ç–æ—á–µ—á–Ω–æ–µ –æ–±–ª–∞–∫–æ –≤–Ω—É—Ç—Ä–∏ bounding box (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  - **Bounding box**: –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è bounding boxes

### Invalidity Ratio

–î–æ–ª—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö. –ú–æ–¥–µ–ª—å —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–π, –µ—Å–ª–∏:
- CadQuery –∫–æ–¥ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω
- –†–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∞—è 3D –º–æ–¥–µ–ª—å –ø—É—Å—Ç–∞—è –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è
- –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã—á–∏—Å–ª–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏

- **–ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è**: –ø—Ä–æ—Ü–µ–Ω—Ç—ã (%)
- **–¢–∏–ø–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**: 0% - 20% –¥–ª—è —Ö–æ—Ä–æ—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **–§–æ—Ä–º—É–ª–∞**: `(–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π / –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–µ–π) * 100%`

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–Ω–≤–µ–π–µ—Ä–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:

```
/workspace/results/
‚îú‚îÄ‚îÄ cad_recode/
‚îÇ   ‚îî‚îÄ‚îÄ deepcad_test_mesh/
‚îÇ       ‚îú‚îÄ‚îÄ 00000001+0.py
‚îÇ       ‚îú‚îÄ‚îÄ 00000002+0.py
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ cad_recode_eval/
‚îÇ   ‚îî‚îÄ‚îÄ deepcad_test_mesh/
‚îÇ       ‚îú‚îÄ‚îÄ meshes/              # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ STL —Ñ–∞–π–ª—ã
‚îÇ       ‚îú‚îÄ‚îÄ breps/              # STEP —Ñ–∞–π–ª—ã
‚îÇ       ‚îú‚îÄ‚îÄ summary.txt         # –¢–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç—á–µ—Ç —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
‚îÇ       ‚îú‚îÄ‚îÄ detailed_results.json
‚îÇ       ‚îî‚îÄ‚îÄ metrics_distribution.png
‚îú‚îÄ‚îÄ cadrille/
‚îÇ   ‚îî‚îÄ‚îÄ deepcad_test_mesh/
‚îÇ       ‚îú‚îÄ‚îÄ 00000001+0.py
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ cadrille_eval/
‚îÇ   ‚îî‚îÄ‚îÄ deepcad_test_mesh/
‚îÇ       ‚îú‚îÄ‚îÄ meshes/
‚îÇ       ‚îú‚îÄ‚îÄ breps/
‚îÇ       ‚îú‚îÄ‚îÄ summary.txt
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ comparison/
    ‚îî‚îÄ‚îÄ deepcad_test_mesh/
        ‚îú‚îÄ‚îÄ chamfer_distance_comparison.png
        ‚îú‚îÄ‚îÄ iou_comparison.png
        ‚îú‚îÄ‚îÄ invalidity_ratio_comparison.png
        ‚îú‚îÄ‚îÄ radar_comparison.png
        ‚îú‚îÄ‚îÄ comparison_results.json
        ‚îî‚îÄ‚îÄ comparison_report.txt
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å GPU

- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `bfloat16` –¥–ª—è –º–æ–¥–µ–ª–µ–π, –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ —á–µ—Ä–µ–∑ `torch.cuda.empty_cache()`
- **–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –±–∞—Ç—á–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–π –ø–∞–º—è—Ç–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: batch_size=8 –¥–ª—è CAD-Recode, batch_size=128 –¥–ª—è Cadrille)
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π (20 –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –¥–ª—è CPU)

### 2. –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

- **–¢–∞–π–º–∞—É—Ç—ã –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏**: –ö–∞–∂–¥—ã–π CadQuery –∫–æ–¥ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ —Å —Ç–∞–π–º–∞—É—Ç–æ–º 5 —Å–µ–∫—É–Ω–¥
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–µ–π**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö 3D –º–æ–¥–µ–ª–µ–π –ø–µ—Ä–µ–¥ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ–º –º–µ—Ç—Ä–∏–∫
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π**: –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ—à–∏–±–æ–∫ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö
- **–ò–∑–æ–ª—è—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `subprocess` –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤, –∏–∑–±–µ–≥–∞—è –ø—Ä–æ–±–ª–µ–º —Å daemon –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏

### 3. –°–æ–ø–æ—Å—Ç–∞–≤–∏–º–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

- **–ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö**: –û–±–µ –º–æ–¥–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è CadQuery –∫–æ–¥–æ–≤
- **–ï–¥–∏–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏**: –û—Ü–µ–Ω–∫–∞ –ø–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –º–µ—Ç—Ä–∏–∫–∞–º (Chamfer Distance, IoU, Invalidity Ratio)
- **–ï–¥–∏–Ω–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞**: –ò–¥–µ–Ω—Ç–∏—á–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Ü–µ–Ω–∫–∏ –¥–ª—è –æ–±–µ–∏—Ö –º–æ–¥–µ–ª–µ–π
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è**: –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π –ø–µ—Ä–µ–¥ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ–º –º–µ—Ç—Ä–∏–∫ (—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ –µ–¥–∏–Ω–∏—á–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞)

### 4. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

- **–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏**: –°—Ç–æ–ª–±—á–∞—Ç—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –¥–ª—è –∫–∞–∂–¥–æ–π –º–µ—Ç—Ä–∏–∫–∏ (Chamfer Distance, IoU, Invalidity Ratio)
- **–†–∞–¥–∞—Ä–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞**: –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ –≤—Å–µ–º –º–µ—Ç—Ä–∏–∫–∞–º –Ω–∞ –æ–¥–Ω–æ–º –≥—Ä–∞—Ñ–∏–∫–µ
- **–¢–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç—á–µ—Ç**: –ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –≤—ã–≤–æ–¥–∞–º–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
- **JSON —ç–∫—Å–ø–æ—Ä—Ç**: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

### 5. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Å—Ç–∏–ª—å –∫–æ–¥–∞

- **Google-style docstrings**: –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–ª–∞—Å—Å—ã –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É Google
- **Type hints**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π —Ç–∏–ø–æ–≤ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è `logging` –≤–º–µ—Å—Ç–æ `print()` –¥–ª—è –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**: –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å–ª–æ–∂–Ω—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º –∏ –ª–æ–≥–∏–∫–µ

## –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–Ω–≤–µ–π–µ—Ä–∞ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/workspace/results/comparison/{dataset_name}` –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã:

1. **`chamfer_distance_comparison.png`** - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Chamfer Distance –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏
2. **`iou_comparison.png`** - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ IoU –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏
3. **`invalidity_ratio_comparison.png`** - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Invalidity Ratio –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏
4. **`radar_comparison.png`** - –†–∞–¥–∞—Ä–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫
5. **`comparison_results.json`** - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
6. **`comparison_report.txt`** - –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç—á–µ—Ç —Å –≤—ã–≤–æ–¥–∞–º–∏

–≠—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∑–≤–æ–ª—è—Ç –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–µ–π CAD-Recode –∏ Cadrille –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –¥–∞—Ç–∞—Å–µ—Ç–µ –∏ —Å–¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥—ã –æ–± –∏—Ö –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é GPU

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏ –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø–∞–º—è—Ç–∏:

1. –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å–∫—Ä–∏–ø—Ç–∞—Ö
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--max-samples` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `bfloat16` –¥–ª—è –º–æ–¥–µ–ª–µ–π

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π CadQuery

–ï—Å–ª–∏ –º–Ω–æ–≥–∏–µ –º–æ–¥–µ–ª–∏ –Ω–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `evaluate.py` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—à–∏–±–∫–∞—Ö
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--check-models` –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∞–π–ª–æ–≤
3. –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç –≤ `evaluate.py` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5 —Å–µ–∫—É–Ω–¥)

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å multiprocessing:

1. –£–º–µ–Ω—å—à–∏—Ç–µ `--num-workers` –¥–æ –º–µ–Ω—å—à–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--debug` –¥–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∏–º–µ–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ—Å—É—Ä—Å–æ–≤

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥–µ–ª–∏ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ª–∏—Ü–µ–Ω–∑–∏—è–º–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –ª–∏—Ü–µ–Ω–∑–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

- **CAD-Recode**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏—Ü–µ–Ω–∑–∏—é –º–æ–¥–µ–ª–∏
- **Cadrille**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏—Ü–µ–Ω–∑–∏—é –º–æ–¥–µ–ª–∏
- **CadQuery**: Apache License 2.0
- **PyTorch**: BSD-style license
- **Transformers**: Apache License 2.0

## –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ü—Ä–∏ –≤–Ω–µ—Å–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø—Ä–æ–µ–∫—Ç, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–ª–µ–¥—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞–º —Å—Ç–∏–ª—è –∫–æ–¥–∞, –æ–ø–∏—Å–∞–Ω–Ω—ã–º –≤ `.cursorrules`:

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Google-style docstrings –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–ª–∞—Å—Å–æ–≤
- –î–æ–±–∞–≤–ª—è–π—Ç–µ type hints –≥–¥–µ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `logging` –≤–º–µ—Å—Ç–æ `print()`
- –î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å–ª–æ–∂–Ω—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º
- –°–ª–µ–¥—É–π—Ç–µ PEP 8 –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–π –∫–æ–Ω–≤–µ–π–µ—Ä –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ü–µ–Ω–∫–∏ –º–æ–¥–µ–ª–µ–π CAD-Recode –∏ Cadrille —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º —Å–æ–ø–æ—Å—Ç–∞–≤–∏–º—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤. –†–µ—à–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ GPU RTX 3090 Ti –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–µ–π.
